## 问题 1: B 站在近来的 Web 前沿技术的探索有哪些新发现吗？（MediaPipe, 影音剪辑技术等）

1. 个人：探索结合 技术-业务
2. 去年分享利用机器学习模型在浏览器中实现防挡脸弹幕
3. 近期这开源项目集中探索实践 WCS

我在 B 站是做 Web 音视频相关的业务，一直在探索如何将新技术应用与业务场景结合，来提供更丰富的功能和更好的体验。
去年分享过利用机器学习模型在 Web 平台实现防挡脸弹幕。

最近一年主要是在开源项目中实践 WebCodecs，并且在生产环境产品中落地实践了；
这个 API 向 Web 平台开放了视频编解码能力，非常贴近 B 站的业务方向。

## 问题 2：关于 WebCodecs 能简单介绍一下这个项目的业务背景吗？

B 站有非常多的点播、直播用户，有主播同时也是 up 主；
直播结束后主播有较强的诉求将直播内容发布出去，让错过直播的用户也能观看直播内容；
发布直播录制的视频前，经常会需要对视频内容进行简单处理。
所以我们做了这样一款产品

## 问题 3: 为什么选择 WebCodecs, 有什么优势吗？

2. WCS：之前 Web 缺少编解码能力，无法处理音视频数据
3. 当前网页进行视频剪辑的产品，技术实现相对复杂

我们最终选择使用 WebCodecs 作为底层的编解码方案，
使用 WebCodecs 的最大优势就是便捷，整个过程都是在网页中完成的，用户不需要下载其他程序；
相对目前已有的网页剪辑软件，它的另一个优势是不消耗服务器资源，从而节省服务器运行成本。

## 问题 4： 介绍 demo video

1. 背景：主播投稿诉求
2. 介绍：产品功能，轻量、满足基本诉求
3. 总结：纯网页完成，技术方案简单、节省服务器成本

用户可以添加直播内容的切片或本地音视频素材、文字，
裁剪出精彩片段，还能给视频重新配音、添加字幕等

从产品形态上来看，它的特点就是功能比较简单轻量，能满足大部分主播的基本诉求

## （补）问题 3：音视频往往涉及大量数据处理，如何优化性能？

音视频数据处理主要包括编解码、封装/解封装；
音视频处理的计算量主要是在视频的编解码阶段，WebCodecs 跟 Native APP 一样能使用硬件加速；
封装/解封装计算量不算太大，如果出现性能问题，按常规的 js 性能优化方法就行了

## 问题 5：和本地文件的访问和交互，结合使用的技术，简单介绍？

1. OPFS（私有源文件系统），方便（无需申请权限）、性能好
2. 音视频文件比较大，按需读取用完释放，大幅降低内存占用

另外需要注意的是音视频文件的体积往往都比较大，可借助 OPFS API 将文件写入到私有源文件系统，在后续处理过程中按需读取、用完释放，从而减少内存占用、避免内存溢出；

## 问题 6：前面提到了 WebCodecs OPFS 两个技术点，对其他开发者的启发，其他行业的应用场景

1. WCS、OPFS 是相对底层的 API
2. 不止视频剪辑，云游戏、远程会议、代码编辑器
3. OPFS 通用文件系统 API，是 Web 中构建大型软件必须的能力

WebCodecs 开放底层的编解码能力，是从零到一的过程，相信借助 Web 技术的跨平台和便捷性，以后网页中处理音视频会逐渐普及。

OPFS 则更具普适性，比如 Web 平台上的游戏、数据库、日志模块、代码剪辑器等，都能用到。
一般大型软件都会强依赖文件系统，以前 Web 平台缺少一个完备的文件系统，对大型软件有很强的限制；
而 OPFS 就是 Web 版的通用文件系统。
